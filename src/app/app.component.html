<div class="container">
  <div class="sidebar">
    <ul>
      <li (click)="selectHome()" [class.active]="selectedTab === 'home'">ğŸ  Home</li>

      <li (click)="selectCategory()" [class.active]="selectedTab === 'category'">
        ğŸ“ Category <span class="arrow" [class.rotate]="showCategorySubmenu">â–¶</span>
      </li>
      <ul class="submenu" *ngIf="showCategorySubmenu">
        <li (click)="selectCreateCategory()" [class.active]="selectedTab === 'createCategory'">â• Create Category</li>
        <li (click)="selectCreateDetails()" [class.active]="selectedTab === 'createDetails'">ğŸ“„ Create Details</li>
      </ul>

      <li (click)="selectProduct()" [class.active]="selectedTab === 'product'">ğŸ›’ Product</li>
      <li (click)="selectOrder()" [class.active]="selectedTab === 'order'">ğŸ“¦ Orders</li>

      <li (click)="selectArac()" [class.active]="selectedTab === 'arac'">
        ğŸš— Arac <span class="arrow" [class.rotate]="showCategories">â–¶</span>
      </li>
      <ul class="submenu" *ngIf="showCategories">
        <ng-container *ngFor="let category of activeCategories">
          <li (click)="toggleCategory(category.id)">
            {{ category.categoryName }}
            <span *ngIf="getChildCategories(category.id).length > 0" class="arrow">â–¶</span>
          </li>
          <ul class="submenu" *ngIf="expandedCategories.has(category.id)">
            <ng-container *ngFor="let subCategory of getChildCategories(category.id)">
              <li (click)="toggleCategory(subCategory.id)">ğŸšœ {{ subCategory.categoryName }}</li>
            </ng-container>
          </ul>
        </ng-container>
      </ul>

      <li (click)="selectCreateTable()" [class.active]="selectedTab === 'createTable'">ğŸ“Š Create Table</li>

      <li (click)="toggleTables()" [class.active]="selectedTab === 'tables'">
        ğŸ“‹ TablolarÄ±m <span class="arrow" [class.rotate]="showTables">â–¶</span>
      </li>
      <ul class="submenu" *ngIf="showTables">
        <li *ngFor="let tableName of tableNames" (click)="selectTable(tableName)">ğŸ“‚ {{ tableName }}</li>
      </ul>

      <!-- âœ… BURAYA "CARI" BUTONUNU DOÄRU KONUMA EKLEDÄ°K -->
      <li (click)="toggleCari()" [class.active]="selectedTab === 'cari'">
        ğŸ§¾ Cari <span class="arrow" [class.rotate]="showCari">â–¶</span>
      </li>
      <ul class="submenu" *ngIf="showCari">
        <li (click)="selectCreateCari()" [class.active]="selectedTab === 'createCari'">â• Cari OluÅŸtur</li>
      </ul>
    </ul>

<li (click)="toggleCarilerim()" [class.active]="selectedTab === 'carilerim'">
  ğŸ—‚ï¸ Carilerim <span class="arrow" [class.rotate]="showCarilerim">â–¶</span>
</li>
<ul class="submenu" *ngIf="showCarilerim">
  <li *ngFor="let cari of cariler" (click)="selectCari(cari)">ğŸ“‚ {{ cari }}</li>
</ul>


<li (click)="selectIslemler()" [class.active]="selectedTab === 'islemler'">â—âœ–ï¸ Ä°ÅŸlem TanÄ±mla</li>

<li (click)="toggleIslemlerim()" [class.active]="selectedTab === 'islemlerim'">
  â•ğŸ§® Ä°ÅŸlemlerim <span class="arrow" [class.rotate]="showIslemlerim">â–¶</span>
</li>

<ul class="submenu" *ngIf="showIslemlerim">
  <li *ngFor="let islem of islemler" (click)="selectIslem(islem)">
    ğŸ”¢ {{ islem }}
  </li>
</ul>






  </div>

  <div class="content">
    <router-outlet></router-outlet>
    <app-araclar *ngIf="selectedTab === 'arac'" (categoriesLoaded)="updateCategories($event)"></app-araclar>
  </div>
</div>
